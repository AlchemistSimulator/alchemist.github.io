<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.105.0">
    <meta name="generator" content="Relearn 5.4.0+tip">
    <meta name="description" content="The Alchemist Simulator">
    <meta name="author" content="Danilo Pianini">
    <title>Scafi Incarnation Tutorial :: Documentation for the Alchemist Simulator</title>
    <link href="../../tutorials/scafi/index.xml" rel="alternate" type="application/rss+xml" title="Documentation for the Alchemist Simulator">
    <link href="../../images/logo.svg?1667405039" rel="icon" type="image/svg+xml">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="../../css/fontawesome-all.min.css?1667405039" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../css/fontawesome-all.min.css?1667405039" rel="stylesheet"></noscript>
    <link href="../../css/featherlight.min.css?1667405039" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../css/featherlight.min.css?1667405039" rel="stylesheet"></noscript>
    <link href="../../css/auto-complete.css?1667405039" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../css/auto-complete.css?1667405039" rel="stylesheet"></noscript>
    <link href="../../css/perfect-scrollbar.min.css?1667405039" rel="stylesheet">
    <link href="../../css/nucleus.css?1667405039" rel="stylesheet">
    <link href="../../css/fonts.css?1667405039" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../css/fonts.css?1667405039" rel="stylesheet"></noscript>
    <link href="../../css/theme.css?1667405039" rel="stylesheet">
    <link href="../../css/theme-relearn.css?1667405039" rel="stylesheet" id="variant-style">
    <link href="../../css/ie.css?1667405039" rel="stylesheet">
    <link href="../../css/variant.css?1667405039" rel="stylesheet">
    <link href="../../css/print.css?1667405039" rel="stylesheet" media="print">
    <script src="../../js/variant.js?1667405039"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_json_url="../../index.json";
      var root_url="../../";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      // some further base stuff
      var baseUriFull='https:\/\/alchemistsimulator.github.io/';
      window.variants && variants.init( [ 'relearn' ] );
    </script>
    <script src="../../js/jquery.min.js?1667405039" defer></script>
  </head>
  <body class="mobile-support html" data-url="../../tutorials/scafi/">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div class="navigation">
            <a class="nav nav-next" href="../../howtos/" title="How-to Guides (&#129106;)"><i class="fas fa-chevron-right fa-fw"></i></a>
          </div>
          <div class="navigation">
            <a class="nav nav-prev" href="../../tutorials/sapere/" title="SAPERE Incarnation Tutorial (&#129104;)"><i class="fas fa-chevron-left fa-fw"></i></a>
          </div>
          <div id="top-github-link">
            <a class="github-link" title='Edit (CTRL+ALT+w)' href="https://github.com/AlchemistSimulator/Alchemist/edit/master/site/content/tutorials/scafi/_index.md" target="blank">
              <i class="fas fa-pen fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <span id="toc-menu" title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../"><span itemprop="name">The Alchemist Simulator</span></a><meta itemprop="position" content="1"> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../tutorials/"><span itemprop="name">Tutorials</span></a><meta itemprop="position" content="2"> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Scafi Incarnation Tutorial</span><meta itemprop="position" content="3"></li>
            </ol>
          </div>
          <div class="default-animation progress">
            <div class="toc-wrapper" dir="ltr">
<nav id="TableOfContents">
  <ul>
    <li><a href="#how-to-use-scafi-with-alchemist">How to use ScaFi with Alchemist</a></li>
  </ul>

  <ul>
    <li><a href="#requirements">Requirements</a></li>
    <li><a href="#quickstart">Quickstart</a>
      <ul>
        <li><a href="#what-happened">What happened</a></li>
      </ul>
    </li>
    <li><a href="#guided-examples">Guided examples</a>
      <ul>
        <li><a href="#1-hello-scafi-a-gradient-in-space-and-time">1. Hello, ScaFi! A gradient in space and time</a></li>
        <li><a href="#2-a-richer-pattern-self-organizing-coordination-regions">2. A richer pattern: Self-organizing Coordination Regions</a></li>
        <li><a href="#3-overlapping-computations-in-space-and-time-with-aggregate-processes">3. Overlapping computations in space and time with aggregate processes</a></li>
      </ul>
    </li>
    <li><a href="#external-resources-to-improve-your-understanding">External resources to improve your understanding</a>
      <ul>
        <li><a href="#conceptual-model">Conceptual model</a></li>
        <li><a href="#running-simulations">Running simulations</a></li>
        <li><a href="#scafi">Scafi</a></li>
      </ul>
    </li>
  </ul>
</nav>
            </div>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
<div class="tags" dir="ltr">
  <a class="tag-link" href="../../tags/aggregate/">aggregate</a>
  <a class="tag-link" href="../../tags/aggregate-computing/">aggregate computing</a>
  <a class="tag-link" href="../../tags/aggregate-programming/">aggregate programming</a>
  <a class="tag-link" href="../../tags/scafi/">scafi</a>
  <a class="tag-link" href="../../tags/scala/">scala</a>
  <a class="tag-link" href="../../tags/scala-fields/">scala fields</a>
  <a class="tag-link" href="../../tags/tutorial/">tutorial</a>
</div>
          </div>
          <article class="default" dir="ltr">
<h1>Scafi Incarnation Tutorial</h1>

<p>ScaFi (Scala Fields) is a Scala-based library and framework for Aggregate Programming.
It implements a variant of the Higher-Order Field Calculus (HOFC) operational semantics,
which is made available as a usable domain-specific language (DSL),
and provides a platform and API for simulating and executing Aggregate Computing systems and applications.</p>
<h2 id="how-to-use-scafi-with-alchemist">How to use ScaFi with Alchemist</h2>
<p>For more details about ScaFi please read the
documentation in the <a href="https://scafi.github.io/docs/">official site</a>
where you can find a description of how to integrate ScaFi toolkit
with Alchemist.</p>
<p>A tutorial similar to the <a href="../basics">base tutorial</a>, with increasingly rich examples,
focused on the Scafi incarnation.</p>
<p>The tutorial can be found on <a href="https://github.com/scafi/learning-scafi-alchemist">GitHub</a>.
The <code>README.md</code> file of the project explains the use and the steps to follow.</p>
<h1 id="simulations-with-alchemist-and-scafi-tutorial">Simulations with Alchemist and Scafi: tutorial</h1>
<p>This tutorial presents a sequence of increasingly rich examples using the <a href="https://scafi.github.io">Scafi aggregate programming DSL</a> and <a href="https://alchemistsimulator.github.io/">the Alchemist Simulator</a>.</p>
<h2 id="requirements">Requirements</h2>
<ul>
<li>A <a href="https://docs.gradle.org/current/userguide/compatibility.html">Gradle-compatible Java version</a> e.g., <a href="https://adoptium.net/temurin/releases/">temurin</a></li>
<li>A local installation of <a href="https://git-scm.com/">Git</a></li>
<li>[Optional] A working version of Python 3 for the plotting part</li>
</ul>
<p><strong>Check if it works</strong></p>
<p>Open a terminal and type</p>
<pre tabindex="0"><code>java -version
git --version
</code></pre><p>Now you are ready to launch Alchemist &amp; ScaFi simulations</p>
<h2 id="quickstart">Quickstart</h2>
<p>Open a terminal and run:</p>
<p><strong>Windows</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#ff5c57">curl </span>https<span style="color:#ff5c57">:</span>//raw.githubusercontent.com/scafi/<span style="color:#ff5c57">learning-scafi</span>-alchemist/master/launch.ps1 | <span style="color:#ff5c57">Select-Object</span> -ExpandProperty Content | powershell.exe
</span></span></code></pre></div><p><strong>Linux &amp; Mac</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl https://raw.githubusercontent.com/scafi/learning-scafi-alchemist/master/launch.sh | bash
</span></span></code></pre></div><p>It will take some time for the system to download all the required dependencies,
at the end of the process you will be presented
the Alchemist default GUI
(<a href="https://alchemistsimulator.github.io/reference/default-ui/">here</a> are instructions on how to interact with the simulator).
At this point, the simulation should be looking like this:
<img src="https://user-images.githubusercontent.com/23448811/175499943-f346221b-9308-4cf0-8402-d90ad3bc56c6.png" alt="Alchemist simulation start"></p>
<p>Click &lt;kbd&gt;P&lt;/kbd&gt; to start the simulation.
The nodes will compute the ScaFi program described
<a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/scala/it/unibo/scafi/examples/HelloWorld.scala">here</a>)
in rounds,
producing node colour changes.
<img src="https://user-images.githubusercontent.com/23448811/175502234-a2c5ae1a-c909-4545-ba5e-8cea0441cbd3.gif" alt="Alchemist simulation evolution"></p>
<h3 id="what-happened">What happened</h3>
<p>Issuing the one-liner command, you have:</p>
<ol>
<li>downloaded this repository using Git</li>
<li>created a folder called <code>learning-scafi-alchemist</code> that contains the simulations</li>
<li>executed the command <code>./gradlew runHelloScafi</code> inside the <code>learning-scafi-alchemist</code> created above.</li>
</ol>
<p>The last command produces the execution of the simulation called <code>helloScafi</code> described using a <code>yml</code> <a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/helloScafi.yml">file</a>.
Particularly an Alchemist simulation typically consists of a network of devices that could communicate with each other by means of a neighbourhood relationship (you can see the connections by clicking &lt;kbd&gt;L&lt;/kbd&gt;)
<img src="https://user-images.githubusercontent.com/23448811/175505269-cb2f6281-d7f2-40ff-9a11-fe7301166092.png" alt="Alchemist Neibourhood Relationship">
In this case, the nodes' positions are configured through real GPS traces from the Vienna marathon app.
The simulation effects (i.e., node shapes and colours) are highly configurable through JSON <a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/effects/helloScafi.json">configuration</a>. Here the node colour depends on the output of the ScaFi program, which is executed in each device every 1 second. Particularly, the execution of a ScaFi program deals with local computations and interaction among neighbours through a distributed data structure called <em>computational field</em>. This distributed and repeated execution of <em>rounds</em> eventually produces a collective result (you can find more details about the execution model of ScaFi programs in the <a href="https://scafi.github.io/docs/#execution-model">documentation</a>).</p>
<p>In this case, the program consists of the evaluation of the distance from the node with the ID 100 (in Aggregate Computing literature called &quot;gradient&quot;).
&lt;!&ndash;</p>
<ul>
<li>
<p>download repo</p>
</li>
<li>
<p>creation folder xxx</p>
</li>
<li>
<p>command uiiuiii executed inside xxx</p>
</li>
<li>
<p>Network of devices</p>
</li>
<li>
<p>colors based on &hellip;</p>
</li>
<li>
<p>the simulator runs the program every x seconds</p>
</li>
<li>
<p>the interaction among devices builds the distributed data structure
&ndash;&gt;
<strong>Something wrong?</strong></p>
</li>
</ul>
<p>Try the following:</p>
<ol>
<li>clone manually using <code>git clone https://github.com/scafi/learning-scafi-alchemist.git</code>
<ol>
<li>alternatively: download the repository zip (<a href="https://github.com/scafi/learning-scafi-alchemist/archive/refs/heads/master.zip">&lt;kbd&gt;Download!&lt;/kbd&gt;</a>)</li>
<li>then unzip the repository to a local folder</li>
</ol>
</li>
<li>open a terminal inside the cloned/downloaded folder</li>
<li>run <code>./gradlew runHelloScafi</code></li>
</ol>
<p>If you still have problems executing the experiments, please consider opening an issue! <a href="https://github.com/scafi/learning-scafi-alchemist/issues/new">&lt;kbd&gt; New issues&lt;/kbd&gt;</a></p>
<h2 id="guided-examples">Guided examples</h2>
<p>from now on, we will assume all commands have been issued inside <code>learning-scafi-alchemist</code></p>
<h3 id="1-hello-scafi-a-gradient-in-space-and-time">1. Hello, ScaFi! A gradient in space and time</h3>
<h4 id="launch-command">Launch command</h4>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew runHelloScafi
</span></span></code></pre></div><h4 id="what-happened-1">What happened</h4>
<p>This is the example described in <a href="#quickstart">Quickstart</a> section.
Particularly, the program consists of the description of the self-healing gradient: an algorithm that computes a gradient (i.e.,  a field mapping each device in the system with its minimum distance from the closest <em>source</em> device) field
and automatically adjusts it after changes in the source set and the connectivity network (more details about gradients can be found in <a href="https://ieeexplore-ieee-org.ezproxy.unibo.it/document/8064033">Compositional Blocks for Optimal Self-Healing Gradients</a>).</p>
<h4 id="what-is-inside">What is inside</h4>
<table>
<thead>
<tr>
<th>Configuration File</th>
<th>ScaFi Program File</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/helloScafi.yml">helloScafi.yml</a></td>
<td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/scala/it/unibo/scafi/examples/HelloScafi.scala">HelloScafi.scala</a></td>
</tr>
</tbody>
</table>
<p>An Alchemist simulation could be described through yml configurations.
In order to execute ScaFi script, you should at least define:</p>
<ul>
<li>the Scafi incarnation:
&lt;!&ndash; embedme ./src/main/yaml/helloScafi.yml#L1-L1 &ndash;&gt;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: scafi
</span></span></code></pre></div><ul>
<li>a <code>Reaction</code> that contains the <code>Action</code> <code>RunScafiProgram</code> with the full class name of the program chosen
&lt;!&ndash; embedme ./src/main/yaml/helloScafi.yml#L37-L46 &ndash;&gt;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: <span style="color:#78787e">&amp;amp;program</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">type</span>: ExponentialTime
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*programRate]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#ff6ac1">type</span>: RunScafiProgram
</span></span><span style="display:flex;"><span>            <span style="color:#ff6ac1">parameters</span>: [it.unibo.scafi.examples.HelloScafi, *retentionTime]
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">program</span>: send
</span></span></code></pre></div><ul>
<li>a deployment that contains in the programs the Action specified above
&lt;!&ndash; embedme ./src/main/yaml/helloScafi.yml#L56-L60 &ndash;&gt;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>: <span style="color:#78787e">## i.e, how to place nodes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: FromGPSTrace <span style="color:#78787e">## place nodes from gps traces</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#78787e">*totalNodes,</span> <span style="color:#78787e">*gpsTraceFile,</span> <span style="color:#ff6ac1">true</span>, <span style="color:#78787e">&amp;#34;AlignToTime&amp;#34;,</span> <span style="color:#78787e">*timeToAlign,</span> <span style="color:#ff6ac1">false</span>, <span style="color:#ff6ac1">false</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">## the reactions installed in each nodes</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#78787e">*program</span>
</span></span></code></pre></div><p>More details about the Alchemist configuration could be found in the <a href="http://alchemistsimulator.github.io/reference/yaml/">official guide</a>.</p>
<p>The main logic of the node behaviour is described through the Scafi program file.
Particularly, a valid ScaFi program must:</p>
<ol>
<li>choose an incarnation
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L3-L3 &ndash;&gt;</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">import</span> it.unibo.alchemist.model.scafi.ScafiIncarnationForAlchemist._
</span></span></code></pre></div><ol start="2">
<li>extend the <code>AggregateProgram</code> trait
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L7-L7 &ndash;&gt;</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">class</span> <span style="color:#f3f99d">HelloScafi</span> <span style="color:#ff6ac1">extends</span> <span style="color:#f3f99d">AggregateProgram</span>
</span></span></code></pre></div><ol start="3">
<li>mix-in the libraries required for the application
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L8-L8 &ndash;&gt;</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">StandardSensors</span> <span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">ScafiAlchemistSupport</span> <span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">BlockG</span> <span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">Gradients</span> <span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">FieldUtils</span> <span style="color:#ff6ac1">{</span>
</span></span></code></pre></div><ol start="4">
<li>define the behaviour inside the <code>main</code> method.</li>
</ol>
<p>A ScaFi program typically deals with environment information through <strong>sensors</strong>.
<code>sense[Type](name)</code> is the built-in operator used to query the sensors attached to each node. Each <em>molecule</em> expressed in the yaml (i.e., the Alchemist variable concept) can be queried from the ScaFi program. For instance, in helloScafi, we write:
&lt;!&ndash; embedme ./src/main/yaml/helloScafi.yml#L63-L64 &ndash;&gt;</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#ff6ac1">molecule</span>: test
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">concentration</span>: <span style="color:#78787e">*source</span> <span style="color:#78787e"># anchor to &amp;#34;source&amp;#34; value, check line 17</span>
</span></span></code></pre></div><p>Therefore, in the program, we can get the <code>test</code> value as:
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L11-L12 &ndash;&gt;</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// Access to node state through &amp;#34;molecule&amp;#34;
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> source <span style="color:#ff6ac1">=</span> sense<span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Int</span><span style="color:#ff6ac1">](&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">34</span><span style="color:#ff6ac1">;</span>test<span style="color:#ff6ac1">&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">34</span><span style="color:#ff6ac1">;)</span> <span style="color:#78787e">// Alchemist API =&amp;gt; node.get(&amp;#34;test&amp;#34;)
</span></span></span></code></pre></div><p>There are several built-sensors (in <code>checkSensors</code> there are examples of local sensors and neighbouring sensors).
For more details, please check the <a href="http://scafi-docs.surge.sh/it/unibo/scafi/index.html">Scaladoc</a>.</p>
<p>The main logic of the program is expressed in the following line:
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L13-L14 &ndash;&gt;</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// An aggregate operation
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> g <span style="color:#ff6ac1">=</span> classicGradient<span style="color:#ff6ac1">(</span>mid<span style="color:#ff6ac1">()</span> <span style="color:#ff6ac1">==</span> source<span style="color:#ff6ac1">)</span>
</span></span></code></pre></div><p>Where <code>classicGradient</code> is a function defined in <code>BlockG</code> that implements the self-healing gradient described above. The first argument is a <code>Boolean</code> field that defines which part of the system could be considered a <em>source</em> zone. In this case, nodes are marked as source when the field of ids (i.e., <code>mid()</code>)  is equal to the value passed through the variable <code>test</code>. This can be expressed as <code>mid() == source</code>.</p>
<p>The value produced by Scafi definitions could be used to express <em>actuation</em>. In the Scafi incarnation, you can update the Alchemist variables through <code>node.put</code>
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L15-L16 &ndash;&gt;</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// Write access to node state (i.e., Actuation =&amp;gt; it changes the node state)
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span>node<span style="color:#ff6ac1">.</span>put<span style="color:#ff6ac1">(&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">34</span><span style="color:#ff6ac1">;</span>g<span style="color:#ff6ac1">&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">34</span><span style="color:#ff6ac1">;,</span> g<span style="color:#ff6ac1">)</span>
</span></span></code></pre></div><p>In the Alchemist default GUI you can inspect the node variables (i.e., molecules) by double-clicking a nodes
<img src="https://user-images.githubusercontent.com/23448811/176140035-dcc4078a-b71d-4eef-a8f2-5cdbc81b0c60.gif" alt="Alchemist Molecule panel"></p>
<p>Finally, the last instruction of the main is the returned value of the Scafi program (in scala <code>return</code> is optional)
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/HelloScafi.scala#L17-L18 &ndash;&gt;</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// Return value of the program
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span>g
</span></span></code></pre></div><h4 id="minimal-changes">Minimal changes</h4>
<ol>
<li>As described above, the program is <em>self-healing</em>, so try to move node and see how the system eventually reaches a stable condition:
<ul>
<li>click &lt;kbd&gt;S&lt;/kbd&gt; to enter into selection mode</li>
<li>start a selection by clicking the mouse left button and dragging it into the environment</li>
<li>once your selection is over, click &lt;kbd&gt;O&lt;/kbd&gt; to enter into move mode</li>
<li>click over the selection and drag the element into another position
<img src="https://user-images.githubusercontent.com/23448811/175920712-e193cf6d-6797-46e9-bc02-c0218f3bf583.gif" alt="Alchemist Move elements"></li>
</ul>
</li>
<li>Try to modify the source node (via yml configuration) and check the program output differences</li>
<li>Try to change the source node (i.e. with the ID == 10) after 10 seconds (check <code>BlockT</code> library, or you can implement the time progression with <code>rep(0 seconds)(time =&amp;gt; time &amp;#43; deltaTime)</code>)</li>
</ol>
<h4 id="using-the-generated-data-with-the-embedded-plotting-script">Using the generated data with the embedded plotting script</h4>
<p>You can produce plots from the data generated by Alchemist simulations.
Indeed, each Alchemist simulation produces aggregated data as expressed in the <code>export</code> configuration <a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/helloScafi.yml#L68-L83">section</a>. For more details about data exporting, please refer to the official Alchemist <a href="http://alchemistsimulator.github.io/howtos/simulation/export/">guide</a>.<br>
Particularly, this command:</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew runHelloScafi -Pbatch<span style="color:#ff6ac1">=</span><span style="color:#ff5c57">true</span> -Pvariables<span style="color:#ff6ac1">=</span>random
</span></span></code></pre></div><p>will run several simulations in batch, one for each possible value of the random variables (six in this case, as expressed in the <a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/helloScafi.yml#L4-L8">helloScafi.yml</a>). Each simulation, will produce a csv file in <code>$exportPath/$fileNameRoot-randomValue.$fileExtension</code> (in this case, build/exports/helloScafi/experiment-x.txt, the values starting with $ are gathered from the simulation configuration file).</p>
<p>Typically, we use these data to produce charts that express the dynamics of the collective system.
This repository contains a highly configurable script (please look at the configuration defined in <a href="../../plots">plots</a>).</p>
<p>To run the script for this experiment, you should run:</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ python plotter.py plots/helloScafi.yml ./build/exports/helloScafi &amp;<span style="color:#78787e">#34;.*&amp;#34; &amp;#34;result&amp;#34; plots/ </span>
</span></span></code></pre></div><p>Where:</p>
<ul>
<li>the first argument is the plot configuration (expressed using a yaml file)</li>
<li>the second argument is where the files are located</li>
<li>the third argument is a regex used to select the simulations file</li>
<li>the fourth argument defines the initial names of the plot</li>
<li>the last argument devises the folder in which the plots will be stored</li>
</ul>
<h3 id="2-a-richer-pattern-self-organizing-coordination-regions">2. A richer pattern: Self-organizing Coordination Regions</h3>
<h4 id="launch-command-1">Launch command</h4>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew runSelforgCoordRegions
</span></span></code></pre></div><h4 id="what-happened-2">What happened</h4>
<p>This example shows an interesting pattern developed with ScaFi, the so-called Self-Organising Coordination Regions (SCR).
(more details in <a href="https://hal.inria.fr/hal-02365498/document">Self-organising Coordination Regions: A Pattern for
Edge Computing</a>)</p>
<p>The idea of SCR is to organize a distributed activity
into multiple spatial <strong>regions</strong> (inducing a partition of the system),
each one controlled by a <strong>leader</strong> device,
which collects data from the area members
and spreads decisions to enact some area-wide policy.
Particularly, when you launch the command of SCR you will see something like this:</p>
<p><img src="https://user-images.githubusercontent.com/23448811/175658741-08537743-a325-4137-be14-a4dd6532237b.gif" alt="SCR result"></p>
<p>Where the colour denotes the potential field (i.e., the gradient) that starts from the selected leader.
In this GIF, the leaders are the ones marked with blue colour.</p>
<h4 id="what-is-inside-1">What is inside</h4>
<table>
<thead>
<tr>
<th>Configuration File</th>
<th>ScaFi Program File</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/selforgCoordRegions.yml">selforgCoordRegions.yml</a></td>
<td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/scala/it/unibo/scafi/examples/SelforganisingCoordinationRegions.scala">SelforganisingCoordinationRegions.scala</a></td>
</tr>
</tbody>
</table>
<p>The SCR pattern consists of four main phases:</p>
<ol>
<li>leader election: using block <code>S</code> the system will produce a distributed leader election that tries to divide the system equally with a certain range (in S term, it is called <code>grain</code>):
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/SelforganisingCoordinationRegions.scala#L14-L15 &ndash;&gt;</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// Sparse choice (leader election) of the cluster heads
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> leader <span style="color:#ff6ac1">=</span> S<span style="color:#ff6ac1">(</span>sense<span style="color:#ff6ac1">(</span><span style="color:#f3f99d">Params</span><span style="color:#ff6ac1">.</span><span style="color:#f3f99d">GRAIN</span><span style="color:#ff6ac1">),</span> metric <span style="color:#ff6ac1">=</span> nbrRange<span style="color:#ff6ac1">)</span>
</span></span></code></pre></div><ol start="2">
<li>potential field definition: after the leader election process, there is another phase in which will be computed potential field from the leader. In this way, the slave node could send information to leader's
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/SelforganisingCoordinationRegions.scala#L16-L17 &ndash;&gt;</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// G block to run a gradient from the leaders
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> g <span style="color:#ff6ac1">=</span> distanceTo<span style="color:#ff6ac1">(</span>leader<span style="color:#ff6ac1">,</span> metric <span style="color:#ff6ac1">=</span> nbrRange<span style="color:#ff6ac1">)</span>
</span></span></code></pre></div><ol start="3">
<li>collection phase: the slave node could collect local information (e.g., temperature) and send it to the leader. During the path, it will be an aggregation process that combines local information with area information (i.e., all the nodes that are inside the potential field of a leader)
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/SelforganisingCoordinationRegions.scala#L18-L19 &ndash;&gt;</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// C block to collect information towards the leaders
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> c <span style="color:#ff6ac1">=</span> C<span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Double</span>,<span style="color:#9aedfe">Set</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">ID</span><span style="color:#ff6ac1">]](</span>g<span style="color:#ff6ac1">,</span> <span style="color:#ff6ac1">_</span><span style="color:#ff6ac1">&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">43</span><span style="color:#ff6ac1">;&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">43</span><span style="color:#ff6ac1">;</span><span style="color:#ff6ac1">_</span><span style="color:#ff6ac1">,</span> <span style="color:#f3f99d">Set</span><span style="color:#ff6ac1">(</span>mid<span style="color:#ff6ac1">()),</span> <span style="color:#f3f99d">Set</span><span style="color:#ff6ac1">.</span>empty<span style="color:#ff6ac1">)</span>
</span></span></code></pre></div><ol start="4">
<li>leader choice and share: with the information collected inside an area, the leader could perform an area-wide decision and then send it to the whole area (using <code>G</code>)
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/SelforganisingCoordinationRegions.scala#L20-L22 &ndash;&gt;</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// G block to propagate decisions or aggregated info from leaders to members
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> info <span style="color:#ff6ac1">=</span> G<span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Set</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">ID</span><span style="color:#ff6ac1">]](</span>leader<span style="color:#ff6ac1">,</span> c<span style="color:#ff6ac1">,</span> identity<span style="color:#ff6ac1">,</span> metric <span style="color:#ff6ac1">=</span> nbrRange<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">val</span> head <span style="color:#ff6ac1">=</span> G<span style="color:#ff6ac1">[</span><span style="color:#9aedfe">ID</span><span style="color:#ff6ac1">](</span>leader<span style="color:#ff6ac1">,</span> mid<span style="color:#ff6ac1">(),</span> identity<span style="color:#ff6ac1">,</span> metric <span style="color:#ff6ac1">=</span> nbrRange<span style="color:#ff6ac1">)</span>
</span></span></code></pre></div><h4 id="minimal-changes-1">Minimal changes</h4>
<ol>
<li>Try to change the grain (check in the configuration file). It would lead to changes in area formation</li>
<li>Try to count the number of nodes inside an area and share this information with that area&mdash;suggestion: change phase 3. of the SCR</li>
<li>As in the previous example, the areas are self-healing. Therefore try to move leaders and see what happens in the leader formation. Try to remove nodes too (see the next clip)
<img src="https://user-images.githubusercontent.com/23448811/179356424-bd31b95a-e38a-491a-80d3-cc448059e484.gif" alt="ezgif com-gif-maker"></li>
</ol>
<h3 id="3-overlapping-computations-in-space-and-time-with-aggregate-processes">3. Overlapping computations in space and time with aggregate processes</h3>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./gradlew runAggregateProcesses
</span></span></code></pre></div><h4 id="what-happened-3">What happened</h4>
<p>This example shows an application of Aggregate Processes,
which is s a way to specify a dynamic number of collective
computations running on dynamic ensembles of devices (more details in <a href="https://www.sciencedirect.com/science/article/abs/pii/S0952197620303389">Engineering collective intelligence at the edge with aggregate processes</a>).
<img src="https://user-images.githubusercontent.com/23448811/175660568-9906a920-d701-48ce-a0de-a0d6fa146425.gif" alt="Processes API"></p>
<p>The processes are the bigger circle around the nodes. The colour identifies the process ID. As you can see,
during the simulation the process starts, shrink and then could disappear.</p>
<h4 id="what-is-inside-2">What is inside</h4>
<table>
<thead>
<tr>
<th>Configuration File</th>
<th>ScaFi Program File</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/yaml/aggregateProcesses.yml">aggregateProcesses.yml</a></td>
<td><a href="https://github.com/scafi/learning-scafi-alchemist/blob/master/src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala">SelforganisingCoordinationRegions.scala</a></td>
</tr>
</tbody>
</table>
<h4 id="minimal-changes-2">Minimal changes</h4>
<p>To start the process, you can use the <code>spawn</code> operators (and their variation, <code>sspawn</code>, <code>cspawn</code>, etc.):</p>
<p>&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala#L24-L24 &ndash;&gt;</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">val</span> maps <span style="color:#ff6ac1">=</span> sspawn<span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Pid</span>,<span style="color:#9aedfe">Unit</span>,<span style="color:#9aedfe">Double</span><span style="color:#ff6ac1">](</span>process<span style="color:#ff6ac1">,</span> pids<span style="color:#ff6ac1">,</span> <span style="color:#ff6ac1">{})</span>
</span></span></code></pre></div><p>Particularly, <code>sspawn</code> accepts:</p>
<ul>
<li>the process logic, that is a function <code>ID =&amp;gt; Input =&amp;gt; Pout[Out]</code>
<ul>
<li><code>ID</code> in this case is a <code>case class</code> that contains the <code>id</code> of a node that will start the process, the time in which it will effectively start and finally the time in which it will end.
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala#L41-L42 &ndash;&gt;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">case</span> <span style="color:#ff6ac1">class</span> <span style="color:#f3f99d">Pid</span><span style="color:#ff6ac1">(</span>src<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">ID</span> <span style="color:#ff6ac1">=</span> mid<span style="color:#ff6ac1">(),</span> time<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Long</span> <span style="color:#ff6ac1">=</span> alchemistTimestamp<span style="color:#ff6ac1">.</span>toDouble<span style="color:#ff6ac1">.</span>toLong<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span>              <span style="color:#ff6ac1">(</span><span style="color:#ff6ac1">val</span> terminateAt<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Long</span> <span style="color:#ff6ac1">=</span> <span style="color:#f3f99d">Long</span><span style="color:#ff6ac1">.</span><span style="color:#f3f99d">MaxValue</span><span style="color:#ff6ac1">)</span>
</span></span></code></pre></div><ul>
<li>The input of the process (in this case is empty)</li>
<li>Finally, the <code>Pout[Double]</code> is the process output. <code>Pout</code> is a data structure that contains the output of the process and the status of the process (that could be <code>Output</code>, <code>Terminated</code> and <code>External</code>&mdash;more details in the paper).</li>
</ul>
</li>
<li>The key set of the process that will be spawn (<code>pids</code>)
<ul>
<li>In this case, the new <code>pids</code> associated to new processes are selected from Alchemist molecule.
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala#L11-L11 &ndash;&gt;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">def</span> processesSpec<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Map</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Int</span>,<span style="color:#ff6ac1">(</span><span style="color:#9aedfe">Int</span>,<span style="color:#9aedfe">Int</span><span style="color:#ff6ac1">)]</span> <span style="color:#ff6ac1">=</span> sense<span style="color:#ff6ac1">(</span><span style="color:#f3f99d">MOLECULE_PROCS</span><span style="color:#ff6ac1">)</span>
</span></span></code></pre></div><ul>
<li>From this information il will be created the <code>pids</code> for the processes:
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala#L18-L22 &ndash;&gt;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#78787e">// Determine the processes to be generated (these are provided in a molecule &amp;#34;procs&amp;#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span><span style="color:#ff6ac1">val</span> procs<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Set</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">ProcessSpec</span><span style="color:#ff6ac1">]</span> <span style="color:#ff6ac1">=</span> processesSpec<span style="color:#ff6ac1">.</span>map<span style="color:#ff6ac1">(</span>tp <span style="color:#ff6ac1">=&amp;</span>gt<span style="color:#ff6ac1">;</span> <span style="color:#f3f99d">ProcessSpec</span><span style="color:#ff6ac1">.</span>fromTuple<span style="color:#ff6ac1">(</span>tp<span style="color:#ff6ac1">.</span>_1<span style="color:#ff6ac1">,</span> tp<span style="color:#ff6ac1">.</span>_2<span style="color:#ff6ac1">)).</span>toSet
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">val</span> t <span style="color:#ff6ac1">=</span> alchemistTimestamp<span style="color:#ff6ac1">.</span>toDouble<span style="color:#ff6ac1">.</span>toLong
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">val</span> pids<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Set</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Pid</span><span style="color:#ff6ac1">]</span> <span style="color:#ff6ac1">=</span> procs<span style="color:#ff6ac1">.</span>filter<span style="color:#ff6ac1">(</span>tgen <span style="color:#ff6ac1">=&amp;</span>gt<span style="color:#ff6ac1">;</span> tgen<span style="color:#ff6ac1">.</span>device <span style="color:#ff6ac1">==</span> mid<span style="color:#ff6ac1">()</span> <span style="color:#ff6ac1">&amp;</span>amp<span style="color:#ff6ac1">;&amp;</span>amp<span style="color:#ff6ac1">;</span> t <span style="color:#ff6ac1">&amp;</span>gt<span style="color:#ff6ac1">;</span> tgen<span style="color:#ff6ac1">.</span>startTime <span style="color:#ff6ac1">&amp;</span>amp<span style="color:#ff6ac1">;&amp;</span>amp<span style="color:#ff6ac1">;</span> <span style="color:#ff6ac1">(</span>t <span style="color:#ff6ac1">-</span> <span style="color:#ff9f43">5</span><span style="color:#ff6ac1">)</span> <span style="color:#ff6ac1">&amp;</span>lt<span style="color:#ff6ac1">;</span> tgen<span style="color:#ff6ac1">.</span>startTime<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">.</span>map<span style="color:#ff6ac1">(</span>tgen <span style="color:#ff6ac1">=&amp;</span>gt<span style="color:#ff6ac1">;</span> <span style="color:#f3f99d">Pid</span><span style="color:#ff6ac1">(</span>time <span style="color:#ff6ac1">=</span> tgen<span style="color:#ff6ac1">.</span>startTime<span style="color:#ff6ac1">)(</span>terminateAt <span style="color:#ff6ac1">=</span> tgen<span style="color:#ff6ac1">.</span>endTime<span style="color:#ff6ac1">))</span>
</span></span></code></pre></div></li>
</ul>
<p>Particularly, in this case, the process logic is quite simple:</p>
<ul>
<li>it produces a potential field from the processes creator</li>
<li>it terminates if the <code>terminateAt</code> is reached</li>
<li>the nodes that belong to nodes are the ones that are inside the <code>bubble</code>, that is the nodes inside an area of 200 units
&lt;!&ndash; embedme ./src/main/scala/it/unibo/scafi/examples/AggregateProcesses.scala#L44-L50 &ndash;&gt;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">def</span> process<span style="color:#ff6ac1">(</span>pid<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Pid</span><span style="color:#ff6ac1">)(</span>src<span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Unit</span> <span style="color:#ff6ac1">=</span> <span style="color:#ff6ac1">())</span><span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">POut</span><span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Double</span><span style="color:#ff6ac1">]</span> <span style="color:#ff6ac1">=</span> <span style="color:#ff6ac1">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">val</span> g <span style="color:#ff6ac1">=</span> classicGradient<span style="color:#ff6ac1">(</span>pid<span style="color:#ff6ac1">.</span>src<span style="color:#ff6ac1">==</span>mid<span style="color:#ff6ac1">())</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">val</span> s <span style="color:#ff6ac1">=</span> <span style="color:#ff6ac1">if</span><span style="color:#ff6ac1">(</span>pid<span style="color:#ff6ac1">.</span>src<span style="color:#ff6ac1">==</span>mid<span style="color:#ff6ac1">()</span> <span style="color:#ff6ac1">&amp;</span>amp<span style="color:#ff6ac1">;&amp;</span>amp<span style="color:#ff6ac1">;</span> pid<span style="color:#ff6ac1">.</span>terminateAt<span style="color:#ff6ac1">.</span>toDouble <span style="color:#ff6ac1">&amp;</span>lt<span style="color:#ff6ac1">;</span><span style="color:#ff6ac1">=</span> alchemistTimestamp<span style="color:#ff6ac1">.</span>toDouble<span style="color:#ff6ac1">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f3f99d">Terminated</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">}</span> <span style="color:#ff6ac1">else</span> <span style="color:#ff6ac1">if</span><span style="color:#ff6ac1">(</span>g <span style="color:#ff6ac1">&amp;</span>lt<span style="color:#ff6ac1">;</span> <span style="color:#ff9f43">200</span><span style="color:#ff6ac1">)</span> <span style="color:#f3f99d">Output</span> <span style="color:#ff6ac1">else</span> <span style="color:#f3f99d">External</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f3f99d">POut</span><span style="color:#ff6ac1">(</span>g<span style="color:#ff6ac1">,</span> s<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">}</span>
</span></span></code></pre></div><h4 id="minimal-changes-3">Minimal changes</h4>
<ul>
<li>Try to add the extension of the <code>bubble</code> as a parameter (as the start and end time)</li>
<li>Even in this case, the computation is self-healing. Therefore, try to move the process center to see how the system reacts</li>
<li>Try to add other processess (see the yaml configuration)</li>
</ul>
<h2 id="external-resources-to-improve-your-understanding">External resources to improve your understanding</h2>
<ul>
<li>The Alchemist metamodel: <a href="https://alchemistsimulator.github.io/explanation/">https://alchemistsimulator.github.io/explanation/</a></li>
<li>The Alchemist Simulator reference <a href="https://alchemistsimulator.github.io/reference/yaml/">https://alchemistsimulator.github.io/reference/yaml/</a></li>
<li>ScaFi documentation: <a href="https://scafi.github.io/docs/">https://scafi.github.io/docs/</a></li>
<li>Main scientific papers about ScaFI (and that use ScaFi): <a href="https://scafi.github.io/papers/">https://scafi.github.io/papers/</a></li>
</ul>
<p>&lt;!&ndash;</p>
<h3 id="conceptual-model">Conceptual model</h3>
<ul>
<li><strong>Molecule</strong>: name of a data item</li>
<li><strong>Concentration</strong>: value associated to a particular molecule</li>
<li><strong>Node</strong>: a container of molecules/reactions, living inside an environment</li>
<li><strong>Environment</strong>: the Alchemist abstration for the space.
<ul>
<li>It is a container for nodes, and it is able to tell:
a) Where the nodes are in the space - i.e. their position
b) How distant are two nodes
c) Optionally, it may provide support for moving nodes</li>
</ul>
</li>
<li><strong>Linking rule</strong>: a function of the current status of the environment that associates to each node a
neighborhood
<ul>
<li><strong>Neighborhood</strong>: an entity composed by a node (centre) + a set of nodes (neighbors)</li>
</ul>
</li>
<li><strong>Reaction</strong>: any event that can change (through an <strong>action</strong>) the state of the environment
<ul>
<li>Consists of 0+ <strong>conditions</strong>, 1+ <strong>actions</strong>, and a <strong>time distribution</strong></li>
<li>Conditions, time distribution, static rate, and rate equation affect the <strong>frequency</strong> of the reaction</li>
</ul>
</li>
<li>Alchemist implements an optimised version (NRM) of Gillespie's Stochastic Simulation Algorithm (SSA)</li>
</ul>
<p>So</p>
<ul>
<li>The <strong>system state</strong> depends on the configuration of molecules floating in it</li>
<li>The <strong>system evolution</strong> depends on the kinds of chemical reactions applicable over time</li>
</ul>
<p>Another key concept is the <strong>dependency graph</strong></p>
<ul>
<li>Actions are outputs</li>
<li>Conditions are inputs</li>
</ul>
<h3 id="running-simulations">Running simulations</h3>
<p>Finally, you can produce plots from the data generated by Alchemist simulation.
This repository contains a highly configurable script (please look to the configuration defined in <a href="https://github.com/scafi/learning-scafi-alchemist/tree/master/plots">plots</a>.</p>
<p>To run the script, you should run:</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ python plotter.py plots/helloworld.yml ./build/exports/helloScafi &amp;<span style="color:#78787e">#34;.*&amp;#34; &amp;#34;result&amp;#34; plots/ </span>
</span></span></code></pre></div><p>Where:</p>
<ul>
<li>the first argument is the plot configuration (expressed using a yaml file)</li>
<li>the second argument is where the files are located</li>
<li>the third argument is a regex used to select the simulations file</li>
<li>the fourth argument defines the initial names of the plot</li>
<li>the last argument devises the folder in which the plots will be stored</li>
</ul>
<h3 id="scafi">Scafi</h3>
<p>The simulation descriptor must indicate <code>incarnation: scafi</code>
and configure a <code>RunScafiProgram</code> action
pointing to the class of some class implementing <code>AggregateProgram</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: scafi
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_reactions</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: <span style="color:#78787e">&amp;amp;program</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">time-distribution</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: ExponentialTime
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Event
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">actions</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ff6ac1">type</span>: RunScafiProgram
</span></span><span style="display:flex;"><span>          <span style="color:#ff6ac1">parameters</span>: [it.unibo.casestudy.HelloWorld, 5.0] <span style="color:#78787e"># second argument is retention time</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">program</span>: send
</span></span></code></pre></div><p>An example ScaFi program is the following</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#ff6ac1">package</span> it.unibo.casestudy
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">import</span> it.unibo.alchemist.model.implementations.molecules.SimpleMolecule
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">import</span> it.unibo.alchemist.model.scafi.ScafiIncarnationForAlchemist._
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">class</span> <span style="color:#f3f99d">HelloWorld</span> <span style="color:#ff6ac1">extends</span> <span style="color:#f3f99d">AggregateProgram</span> <span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">StandardSensors</span> <span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">ScafiAlchemistSupport</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">with</span> <span style="color:#f3f99d">Gradients</span> <span style="color:#ff6ac1">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">override</span> <span style="color:#ff6ac1">def</span> main<span style="color:#ff6ac1">()</span><span style="color:#ff6ac1">:</span> <span style="color:#9aedfe">Any</span> <span style="color:#ff6ac1">=</span> <span style="color:#ff6ac1">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#78787e">// Access to node state through &amp;#34;molecule&amp;#34;
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span>    <span style="color:#ff6ac1">val</span> source <span style="color:#ff6ac1">=</span> <span style="color:#ff6ac1">if</span><span style="color:#ff6ac1">(</span>node<span style="color:#ff6ac1">.</span>has<span style="color:#ff6ac1">(&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">34</span><span style="color:#ff6ac1">;</span>test<span style="color:#ff6ac1">&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">34</span><span style="color:#ff6ac1">;))</span> node<span style="color:#ff6ac1">.</span>get<span style="color:#ff6ac1">[</span><span style="color:#9aedfe">Int</span><span style="color:#ff6ac1">](&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">34</span><span style="color:#ff6ac1">;</span>test<span style="color:#ff6ac1">&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">34</span><span style="color:#ff6ac1">;)</span> <span style="color:#ff6ac1">else</span> <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#78787e">// An aggregate operation
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span>    <span style="color:#ff6ac1">val</span> g <span style="color:#ff6ac1">=</span> classicGradient<span style="color:#ff6ac1">(</span>mid <span style="color:#ff6ac1">==</span> program<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#78787e">// Write access to node state
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span>    node<span style="color:#ff6ac1">.</span>put<span style="color:#ff6ac1">(&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">34</span><span style="color:#ff6ac1">;</span>g<span style="color:#ff6ac1">&amp;</span><span style="color:#ff6ac1">#</span><span style="color:#ff9f43">34</span><span style="color:#ff6ac1">;,</span> g<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#78787e">// Return value of the program
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span>    g
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">}</span>
</span></span></code></pre></div>
<div class="box notices cstyle note">
    <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Note</div>
    <div class="box-content">
<p>Something went wrong along the line? Drop us an
<a href="https://github.com/scafi/learning-scafi-alchemist/issues/new/choose">issue report</a>
and we&rsquo;ll get back to you.</p>
    </div>
</div>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="sidebar" class="default-animation showVisitedLinks">
      <div id="header-wrapper" class="default-animation">
        <div id="header" class="default-animation">
<div style="white-space: nowrap;">
    <div style="max-width: 100%; display: inline-block; ">
        <img alt="The Alchemist Logo" src="../../images/logo.svg"/>
    </div>
</div>

        </div>
        <div class="searchbox default-animation">
          <label class="a11y-only" for="search-by">Search</label>
          <i class="fas fa-search"></i>
          <input data-search-input id="search-by" type="search" placeholder="Search...">
          <span data-search-clear=""><i class="fas fa-times"></i></span>
        </div>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="../../js/auto-complete.js?1667405039" defer></script>
        <script src="../../js/lunr.min.js?1667405039" defer></script>
        <script src="../../js/lunr.stemmer.support.min.js?1667405039" defer></script>
        <script src="../../js/lunr.multi.min.js?1667405039" defer></script>
        <script src="../../js/lunr.en.min.js?1667405039" defer></script>
        <script src="../../js/search.js?1667405039" defer></script>
      </div>
      <div id="homelinks" class="default-animation">
        <ul>
          <li>
              <a class="padding" href="../../"><i class='fas fa-home'></i> Home</a>
          </li>
        </ul>
      </div>
      <div id="content-wrapper" class="highlightable">
        <ul class="topics">
          <li data-nav-id="/tutorials/" class="dd-item parent"><a href="../../tutorials/"><b>1. </b>Tutorials<i class="fas fa-check read-icon"></i></a><ul id="subsections-90d1aeee0e96e115d1edea3b994d19fb">
          <li data-nav-id="/tutorials/quickstart/" class="dd-item"><a href="../../tutorials/quickstart/">Quickstart<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tutorials/basics/" class="dd-item"><a href="../../tutorials/basics/">Step-by-step tutorial<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tutorials/protelis/" class="dd-item"><a href="../../tutorials/protelis/">Protelis Incarnation Tutorial<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tutorials/sapere/" class="dd-item"><a href="../../tutorials/sapere/">SAPERE Incarnation Tutorial<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tutorials/scafi/" class="dd-item active"><a href="../../tutorials/scafi/">Scafi Incarnation Tutorial<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/" class="dd-item"><a href="../../howtos/"><b>2. </b>How-to Guides<i class="fas fa-check read-icon"></i></a><ul id="subsections-816500d91966e741d856519feb929340">
          <li data-nav-id="/howtos/preparation/" class="dd-item alwaysopen"><a href="../../howtos/preparation/">Preparation<i class="fas fa-check read-icon"></i></a><ul id="subsections-b37a03515095c013889ed6b357fe9793">
          <li data-nav-id="/howtos/preparation/jar/" class="dd-item"><a href="../../howtos/preparation/jar/">Alchemist stand-alone<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/preparation/gradle/" class="dd-item"><a href="../../howtos/preparation/gradle/">Alchemist via Gradle<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/simulation/" class="dd-item alwaysopen"><a href="../../howtos/simulation/">Simulation<i class="fas fa-check read-icon"></i></a><ul id="subsections-f68016a8ccfd1f6483e3009c53111064">
          <li data-nav-id="/howtos/simulation/variables/" class="dd-item"><a href="../../howtos/simulation/variables/">Create reusable variables<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/repeatability/" class="dd-item"><a href="../../howtos/simulation/repeatability/">Ensure repeatability<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/cognitive/" class="dd-item"><a href="../../howtos/simulation/cognitive/">Cognitive Agents<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/link/" class="dd-item"><a href="../../howtos/simulation/link/">Create a network<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/layers/" class="dd-item"><a href="../../howtos/simulation/layers/">Create Layers<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/environment/" class="dd-item alwaysopen"><a href="../../howtos/simulation/environment/">Create rich environments<i class="fas fa-check read-icon"></i></a><ul id="subsections-506c1af08dd4ae8f1ff471556102ad10">
          <li data-nav-id="/howtos/simulation/environment/pathfinding/" class="dd-item"><a href="../../howtos/simulation/environment/pathfinding/">Find paths indoors<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/environment/maps/" class="dd-item"><a href="../../howtos/simulation/environment/maps/">Maps and GPS traces<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/environment/indoor/" class="dd-item"><a href="../../howtos/simulation/environment/indoor/">Simulate indoor<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/environment/physics/" class="dd-item"><a href="../../howtos/simulation/environment/physics/">Simulate Physical Interactions<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/simulation/deploy/" class="dd-item alwaysopen"><a href="../../howtos/simulation/deploy/">Deploy Nodes<i class="fas fa-check read-icon"></i></a><ul id="subsections-7c8f900c4cd87baea80cccbacb6e4c7b">
          <li data-nav-id="/howtos/simulation/deploy/grid/" class="dd-item"><a href="../../howtos/simulation/deploy/grid/">(Irregular) Grids<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/deploy/shape/" class="dd-item"><a href="../../howtos/simulation/deploy/shape/">Nodes inside shapes<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/deploy/gps/" class="dd-item"><a href="../../howtos/simulation/deploy/gps/">GPS Traces<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/deploy/graph/" class="dd-item"><a href="../../howtos/simulation/deploy/graph/">Graphs<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/simulation/export/" class="dd-item"><a href="../../howtos/simulation/export/">Export data<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/program/" class="dd-item alwaysopen"><a href="../../howtos/simulation/program/">Program Nodes<i class="fas fa-check read-icon"></i></a><ul id="subsections-e3275c87da3baffee14e8040e8af2089">
          <li data-nav-id="/howtos/simulation/program/move-on-maps/" class="dd-item"><a href="../../howtos/simulation/program/move-on-maps/">Move nodes on maps<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/program/content/" class="dd-item"><a href="../../howtos/simulation/program/content/">Node contents<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/simulation/smartcam/" class="dd-item"><a href="../../howtos/simulation/smartcam/">Smart cameras and drones<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/execution/" class="dd-item alwaysopen"><a href="../../howtos/execution/">Execution<i class="fas fa-check read-icon"></i></a><ul id="subsections-18ce8c751a9ebb99c5c3c34e42988d90">
          <li data-nav-id="/howtos/execution/swing-effects/" class="dd-item"><a href="../../howtos/execution/swing-effects/">Customize the Swing GUI<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/execution/termination/" class="dd-item"><a href="../../howtos/execution/termination/">Define the termination criteria<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/workarounds/" class="dd-item alwaysopen"><a href="../../howtos/workarounds/">Workarounds<i class="fas fa-check read-icon"></i></a><ul id="subsections-5c62e7df883f31acbb0ab6f2f8f4e025">
          <li data-nav-id="/howtos/workarounds/swing-glitch/" class="dd-item"><a href="../../howtos/workarounds/swing-glitch/">Graphical Glitches in Swing<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/workarounds/max-map-count/" class="dd-item"><a href="../../howtos/workarounds/max-map-count/">Memory leaks under Linux<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/extensions/" class="dd-item"><a href="../../howtos/extensions/">Experiment-specific extensions<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/development/" class="dd-item alwaysopen"><a href="../../howtos/development/">Development<i class="fas fa-check read-icon"></i></a><ul id="subsections-a8ef07edcf2e204447b00f8df33f5a47">
          <li data-nav-id="/howtos/development/contributions/" class="dd-item"><a href="../../howtos/development/contributions/">Developer&#39;s guide<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/development/ide-import/" class="dd-item"><a href="../../howtos/development/ide-import/">Import Alchemist in an IDE<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/development/building/" class="dd-item"><a href="../../howtos/development/building/">Build and run the QA<i class="fas fa-check read-icon"></i></a></li></ul></li></ul></li>
          <li data-nav-id="/explanation/" class="dd-item"><a href="../../explanation/"><b>3. </b>Explanation<i class="fas fa-check read-icon"></i></a><ul id="subsections-a9b09a5d1fcfe3d54aa8ef01d21a10b9">
          <li data-nav-id="/explanation/metamodel/" class="dd-item"><a href="../../explanation/metamodel/">The Alchemist Meta-Model<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/explanation/engine/" class="dd-item"><a href="../../explanation/engine/">The Alchemist Simulation Engine<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/explanation/biochemistry/" class="dd-item"><a href="../../explanation/biochemistry/">Biochemistry Incarnation<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/explanation/cognitive/" class="dd-item"><a href="../../explanation/cognitive/">Cognitive Agents<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/explanation/pathfinding/" class="dd-item"><a href="../../explanation/pathfinding/">Pathfinding<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/explanation/sapere/" class="dd-item"><a href="../../explanation/sapere/">SAPERE Incarnation<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/reference/" class="dd-item"><a href="../../reference/"><b>4. </b>Reference<i class="fas fa-check read-icon"></i></a><ul id="subsections-aaf4dc0c3ad418fa5118c9d2a0c2270f">
          <li data-nav-id="/reference/yaml/" class="dd-item"><a href="../../reference/yaml/">YAML simulation specification<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/organization/" class="dd-item"><a href="../../reference/organization/">Project organization<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/biochemistry/" class="dd-item"><a href="../../reference/biochemistry/">Biochemistry Incarnation<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/cli/" class="dd-item"><a href="../../reference/cli/">Command Line interface<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/default-ui/" class="dd-item"><a href="../../reference/default-ui/">Default Graphical User Interface<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/sapere/" class="dd-item"><a href="../../reference/sapere/">SAPERE Incarnation<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/swing/" class="dd-item"><a href="../../reference/swing/">Swing GUI<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/kdoc/" class="dd-item"><a href="../../reference/kdoc/"><i>(recommended)</i> KDoc API<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/javadoc/" class="dd-item"><a href="../../reference/javadoc/"><i>(legacy)</i> Javadoc API<i class="fas fa-check read-icon"></i></a></li></ul></li>
        </ul>
        <div id="shortcuts">
          <div class="nav-title">More</div>
          <ul>
            <li><a class="padding" href="https://github.com/AlchemistSimulator/Alchemist"><i class='fab fa-fw fa-github'></i> GitHub repo</a></li>
            <li><a class="padding" href="https://youtube.com/@alchemistsimulator"><i class='fab fa-youtube'></i> YouTube channel</a></li>
            <li><a class="padding" href="../../showcase/"><i class='fas fa-fw fa-camera'></i> Use cases</a></li>
            <li><a class="padding" href="../../license/"><i class='fas fa-balance-scale'></i> License</a></li>
            <li><a class="padding" href="../../tags/"><i class='fas fa-fw fa-tags'></i> Tags</a></li>
          </ul>
        </div>
        <div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div>
        <hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter">
        <div id="prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks">
          <ul>
            <li id="select-language-container" class="footerLangSwitch">
              <div class="padding select-container">
                <i class="fas fa-language fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <label class="a11y-only" for="select-language">Language</label>
                  <select id="select-language" onchange="location = baseUri + this.value;">
                  </select>
                </div>
                <div class="select-clear"></div>
              </div>
            </li>
            <li id="select-variant-container" class="footerVariantSwitch">
              <div class="padding select-container">
                <i class="fas fa-paint-brush fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <label class="a11y-only" for="select-variant">Theme</label>
                  <select id="select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                    <option id="relearn" value="relearn" selected>Relearn</option>
                  </select>
                </div>
                <div class="select-clear"></div>
              </div>
              <script>window.variants && variants.markSelectedVariant();</script>
            </li>
            <li class="footerVisitedLinks showVisitedLinks"><a class="padding" onclick="clearHistory();"><i class="fas fa-history fa-fw"></i> Clear History</a></li>
          </ul>
        </div>
        <div id="footer" class="footerFooter showFooter"><div class="padding">
    <div><strong>Alchemist Simulator 24.1.13</strong></div>
    <br>
    <a
        class="github-button"
        href="https://github.com/AlchemistSimulator/Alchemist/releases/latest/"
        data-icon="octicon-cloud-download" aria-label="Download Alchemist-full on GitHub"
    >
    Download
    </a>
    <a
        class="github-button"
        href="https://github.com/AlchemistSimulator/Alchemist"
        data-icon="octicon-star"
        data-show-count="true"
        aria-label="Star McShelby/hugo-theme-relearn on GitHub"
    >
    Star
    </a>
    <a
        class="github-button"
        href="https://github.com/AlchemistSimulator/Alchemist/fork"
        data-icon="octicon-repo-forked"
        data-show-count="true"
        aria-label="Fork McShelby/hugo-theme-relearn on GitHub"
    >
    Fork
    </a>
    <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn"><span class="fas fa-heart"></span></a> by <a href="https://gohugo.io/">Hugo</a></p>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
</div>
        </div>
      </div>
    </aside>
    <script src="../../js/clipboard.min.js?1667405039" defer></script>
    <script src="../../js/perfect-scrollbar.min.js?1667405039" defer></script>
    <script src="../../js/featherlight.min.js?1667405039" defer></script>
    <script src="../../js/jquery.svg.pan.zoom.js?1667405039" defer></script>
    <script src="../../js/mermaid.min.js?1667405039" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{}");
    </script>
    <script src="../../js/theme.js?1667405039" defer></script>
  </body>
</html>
