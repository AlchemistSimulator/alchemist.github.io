<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.100.2" />
    <meta name="generator" content="Relearn 4.1.0&#43;tip">
    <meta name="description" content="The Alchemist Simulator">
    <meta name="author" content="Danilo Pianini">
    <title>SAPERE Incarnation Tutorial :: Documentation for the Alchemist Simulator</title>
    <link rel="alternate" type="application/rss&#43;xml" href="../../tutorials/sapere/index.xml" title="Documentation for the Alchemist Simulator" />
    <link rel="icon" href="../../images/logo.svg?1655203452" type="image/svg+xml">
    <link href="../../css/nucleus.css?1655203452" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1655203452" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1655203452" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1655203452" rel="stylesheet">
    <link href="../../css/auto-complete.css?1655203452" rel="stylesheet">
    <link href="../../css/theme.css?1655203452" rel="stylesheet">
    <link href="../../css/theme-relearn.css?1655203452" rel="stylesheet" id="variant-style">
    <link href="../../css/ie.css?1655203452" rel="stylesheet">
    <link href="../../css/variant.css?1655203452" rel="stylesheet">
    <link href="../../css/print.css?1655203452" rel="stylesheet" media="print">
    <script src="../../js/variant.js?1655203452"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var index_url="../../index.json";
      var root_url="../../";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      // some further base stuff
      var baseUriFull='https:\/\/alchemistsimulator.github.io/';
      variants.init( [ 'relearn' ] );
    </script>
    <script src="../../js/jquery.min.js?1655203452"></script>
  </head>
  <body class="mobile-support" data-url="../../tutorials/sapere/">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div class="navigation">
             <a class="nav nav-next" href="../../tutorials/scafi/" title="Scafi Incarnation Tutorial (&#129106;)"><i class="fas fa-chevron-right fa-fw"></i></a>
          </div>
          <div class="navigation">
             <a class="nav nav-prev" href="../../tutorials/protelis/" title="Protelis Incarnation Tutorial (&#129104;)"><i class="fas fa-chevron-left fa-fw"></i></a>
          </div>
          <div id="top-github-link">
            <a class="github-link" title='Edit (CTRL+ALT+e)' href="https://github.com/AlchemistSimulator/Alchemist/edit/master/src/main/hugo/content/tutorials/sapere/_index.md" target="blank">
              <i class="fas fa-pen fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" title='Menu (CTRL+ALT+m)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <span id="toc-menu" title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <meta itemprop="itemListOrder" content="Descending" />
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><meta itemprop="position" content="3" /><a itemprop="item" href="../../"><span itemprop="name">The Alchemist Simulator</span></a> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><meta itemprop="position" content="2" /><a itemprop="item" href="../../tutorials/"><span itemprop="name">Tutorials</span></a> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><meta itemprop="position" content="1" /><a itemprop="item" href="../../tutorials/sapere/" aria-disabled="true"><span itemprop="name">SAPERE Incarnation Tutorial</span></a></li>
            </ol>
          </div>
          <div class="default-animation progress">
            <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#lsas">LSAs</a></li>
    <li><a href="#eco-laws">Eco-Laws</a>
      <ul>
        <li><a href="#rates">Rates</a></li>
      </ul>
    </li>
    <li><a href="#exercise">Exercise</a></li>
  </ul>
</nav>
            </div>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
<div class="tags">
  <a class="tag-link" href="../../tags/lsa">lsa</a>
  <a class="tag-link" href="../../tags/sapere">sapere</a>
  <a class="tag-link" href="../../tags/tuple">tuple</a>
  <a class="tag-link" href="../../tags/tuple-centre">tuple centre</a>
  <a class="tag-link" href="../../tags/tuple-space">tuple space</a>
  <a class="tag-link" href="../../tags/tutorial">tutorial</a>
</div>
          </div>
          <article>

<h1>SAPERE Incarnation Tutorial</h1>
<p>An explanation of the basics of the SAPERE Incarnation is available <a href="../../explanation/sapere">here</a>.
A tutorial similar to the <a href="../basics">base tutorial</a>, with increasingly rich examples,
focused on the SAPERE incarnation.
Reference descriptions of the SAPERE LSA language inside the simulator are available
<a href="../../reference/sapere">here</a></p>
<p>The tutorial can be found on <a href="https://github.com/AlchemistSimulator/Sapere-Incarnation-tutorial">GitHub</a>.
The <code>README.md</code> file of the project explains the use and the steps to follow.</p>

<div class="expand">
    <a class="expand-label" onclick="$t=$(this); if($t.parent('.expand-expanded.expand-marked').length){ $t.next().css('display','none') }else if($t.parent('.expand-marked').length){ $t.next().css('display','block') }else{ $t.next('.expand-content').slideToggle(100); } $t.parent().toggleClass('expand-expanded');">
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        Show README.md
    </a>
    <div class="expand-content" style="display: none;">
<p><a href="https://github.com/AlchemistSimulator/SAPERE-incarnation-tutorial/actions/workflows/build-and-deploy.yml"><img src="https://github.com/AlchemistSimulator/SAPERE-incarnation-tutorial/actions/workflows/build-and-deploy.yml/badge.svg" alt="CI"></a></p>
<h1 id="hands-on-tutorial-with-the-alchemist-sapere-incarnation">Hands-on tutorial with the Alchemist SAPERE incarnation</h1>
<p>The goal of this tutorial is to showcase the usage of Alchemist-SAPERE,
by a sequence of working examples and increasingly challenging exercises.</p>
<p>Introductory material to the simulation world and to the process that led to the creation of Alchemist
and of its SAPERE incarnation are provided <a href="http://github.com/DanySK/Course-Simulation-Basics/releases/latest/download/Simulation.pdf">here</a>.</p>
<p>More information on how to write simulations in Alchemist are provided on <a href="https://alchemistsimulator.github.io">the official website</a>.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Alchemist requires a working installation of the Java Development Kit 11 or newer to run.
We do recommend either OpenJDK or OpenJ9 from <a href="https://adoptopenjdk.net/">AdoptOpenJDK</a>.
Several architectures, operating systems, and JDK versions are tested for compatibility.</p>
<h3 id="prerequisites-with-docker">Prerequisites with docker</h3>
<p>When running with docker, installing Java Development Kit is not needed.
Docker and docker-compose are needed in order to run this project in container.
To run on OS X and Windows machines additional X Window System program will be needed.
Eg. <code>xquarts</code> for OS X and <code>Xming</code> for Windows.
To run run project use <code>docker-compose up</code>. Simulation can be specified eg. in <code>docker-compose.yml</code> file.</p>
<h2 id="lanching-simulations">Lanching simulations</h2>
<p>The project is managed via the <a href="https://gradle.org/">Gradle Build Tool</a>.
You do not need to install it, the launch script will download the correct version for you.</p>
<p>In order to launch a simulation named <code>SIMNAME</code>,
a file named <code>SIMNAME.yml</code> <em>must</em> be in the <code>src/main/yaml</code> folder of the project.
That&rsquo;s where the build script will look up.
There will be one Gradle task for each simulation file, which can be executed as:</p>
<p><code>./gradlew SIMNAME</code></p>
<p>If an effects file named <code>SIMNAME.json</code> is present in the <code>effects</code> folder, it will be loaded automatically.</p>
<p><strong>NOTE</strong> the environment variable <code>CI</code> is used to determined whether the task is running in a headless continuous integration environment.
If you have <code>CI=true</code> in your environment, the graphical interface won&rsquo;t get pulled up.</p>
<h2 id="exercises">Exercises</h2>
<p>Using the provided simulation and the documentation provided on <a href="https://alchemistsimulator.github.io/">the official Alchemist website</a>,
and in particular in <a href="https://alchemistsimulator.github.io/reference/yaml/">reference guide to the YAML simulations</a> and
in <a href="https://alchemistsimulator.github.io/reference/sapere/">the SAPERE incarnation reference</a>,
and the graphical interface usage description available <a href="https://alchemistsimulator.github.io/reference/default-ui/">here</a>,
try to solve the following exercises:</p>
<ol>
<li>Add two nodes to an empty, continuous environment, and make them connected</li>
<li>Create 10000 nodes randomly displaced inside a circle centered in (0,0) and radius 10</li>
<li>Create a grid of nodes from (-5,-5) to (5,5), with nodes every (0.25,0.25) distance units, and no perturbance</li>
<li>Create a perturbed grid from the example above</li>
<li>Put some {token} LSAs in some nodes of the system</li>
<li>Write a &ldquo;dodgeball&rdquo; program</li>
<li>See how YAML can be used to write personalised sections and how they can be referred</li>
<li>Modify the dodgeball program so that it <em>counts</em> in the LSA the number of passes</li>
<li>Write an LSA diffusion program: after some time, every node of the network must have the {token} LSA. Use the <code>*</code> operator</li>
<li>Look at the <code>10-math.yml</code> file. Esperiment with it and try to move nodes around manually.</li>
<li>Write a gradient, it should:
<ol>
<li>convert a <code>{source}</code> to a <code>{gradient, 0}</code> (don&rsquo;t delete the source!)</li>
<li>diffuse to neighbors the gradient, whose value is increased of <code>#D</code></li>
<li>if there are multiple copies of the gradient, keep only the lowest (immediately!)</li>
<li>every some time &ldquo;age&rdquo; the information by increasing its value</li>
<li>delete gradients whose value is higher than some threshold (e.g. 20).</li>
</ol>
</li>
<li>Take a look to <code>12-sets.yml</code>, and see how the set arithmetic works. Run it, and see the result.</li>
<li>Modify the program above by changing the time distribution, using a personalised one: a DiracComb with parameter 0.5</li>
<li>Take a look to <code>14-yaml.vars.yml</code>, and make sure to understand how the variables system works</li>
<li>Take a look to <code>15-move.yml</code>, run it and play with its variables</li>
<li>Try to run <code>16-maps.yml</code> (note: it can take some time on the first load). Get a glance of the possible complexity of advanced scenarios. Discuss the result, modify the example as you like.</li>
</ol>

    </div>
</div>

<div class="box notices cstyle note">
    <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Note</div>
    <div class="box-content">
<p>Something went wrong along the line? Drop us an
<a href="https://github.com/AlchemistSimulator/Sapere-Incarnation-tutorial/issues/new/choose">issue report</a>
and we&rsquo;ll get back to you.</p>
    </div>
</div>
<h2 id="lsas">LSAs</h2>
<p><a href="../../reference/sapere#lsa-syntax">Syntax details are available in the reference</a>.
The following code creates an irregular grid of devices,
of which those located around the center of such grid contain the tuple <code>{ token }</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>: <span style="color:#78787e"># A description of what will be included in the node</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">molecule</span>: hello <span style="color:#78787e"># Everywhere</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>: <span style="color:#78787e"># Restrict the area to...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle <span style="color:#78787e"># ...a class implementing Shape with this name...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">1</span>, -<span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">2</span>, <span style="color:#ff9f43">2</span>] <span style="color:#78787e"># ...which can get built with these parameters</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token <span style="color:#78787e"># Molecule to inject</span>
</span></span></code></pre></div>
<p>The relevant part here is <code>molecule: token</code>.
If we wanted to inject the tuple <code>{ foo, 1, bar, 2 }</code>, we could have written <code>molecule: foo, 1, bar, 2</code>.</p>
<h2 id="eco-laws">Eco-Laws</h2>
<p>Nodes can be programmed with Eco-Laws as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e"># A list of the sets of reactions programming the node</span>
</span></span><span style="display:flex;"><span>    - 
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># Frequency. If the class is not specified, the implementation to use is chosen by the incarnation. The SAPERE incarnation automatically loads ExponentialTime, which takes a number representing the Markovian rate.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># program lets the incarnation choose the class implementing Reaction, and passes down a string that, when parsed, produces the program</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">program</span>: &gt; <span style="color:#78787e"># &#34;&gt;&#34; begins a multiline string (quote mode)</span>
</span></span><span style="display:flex;"><span>          {token} --&gt; {firing}
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># If the time distribution is unspecified, the SAPERE incarnation assumes a &#34;ASAP&#34; behavior (rate = Infinity)</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{firing} --&gt; +{token}&#34;</span>
</span></span></code></pre></div>
<p>Eco-Laws can be programmed to send LSAs to neighbors, as well as to look into neighboring nodes for getting LSAs.
In order to do so, the LSA template in the Eco-Law must be preceded by a neighbor operator, either <code>+</code> or <code>*</code>.</p>
<p><code>+</code> means <em>in a neighbor</em>:
if used on the left hand side,
it considers the condition satisfied if at least one neighbor has at least one LSA matching the provided template;
if used on the right hand side,
sends the LSA to one random neighbor.</p>
<p><code>*</code> means <em>in all neighbors</em>:
if used on the left hand side,
it considers the condition satisfied if all neighbors have at least one LSA matching the provided template;
if used on the right hand side,
sends a copy of the LSA to all neighbors.</p>
<p>The following code exemplifies a diffusion program:
when <code>{ token }</code> is present locally, it is copied into neighboring nodes once per second;
and as soon as two copies of <code>{ token }</code> are present, one gets removed.</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">_send</span>: <span style="color:#78787e">&amp;send</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      </span>      {token} --&gt; {token} *{token}
</span></span><span style="display:flex;"><span>  - <span style="color:#ff6ac1">program</span>: &gt;<span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">      </span>      {token}{token} --&gt; {token}
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">molecule</span>: token
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e">*send</span>
</span></span></code></pre></div>
<h3 id="rates">Rates</h3>
<p>The time distribution with which reactions should get scheduled can be controlled by thinkering with the yaml specification
as per every reaction in Alchemist.
If no
<a href="../../reference/kdoc/alchemist/it.unibo.alchemist.model.interfaces/-time-distribution/"><code>TimeDistribution</code></a>
is specified,
the Eco-Law is assumed to run &ldquo;as soon as possible&rdquo; (ASAP).</p>
<p>This may lead to unwanted behaviour.
For instance, programming a single node with:
<code> --&gt; { foo }</code>
will cause the simulation to schedule a reaction producing <code>{ foo }</code> at time zero,
and at each execution the time will remain zero:
the simulator will be producing copies over copies of the tuple,
never advancing in time (Alchemist is a discrete event simulator),
and possibly going on until the JVM memory limit is reached.</p>
<p>If a number is specified as time distribution, using the <code>time-distribution</code> key,
then it will be interpreted as the <a href="https://en.wikipedia.org/wiki/Markov_chain">Markovian rate</a>
of an <a href="https://en.wikipedia.org/wiki/Exponential_distribution">exponentially distributed time</a>.</p>
<p>Other distributions found at
<a href="../../reference/kdoc/alchemist/it.unibo.alchemist.model.implementations.timedistributions/"><code>it.unibo.alchemist.model.implementations.timedistributions</code></a>
can be used leveraging the
<a href="../../reference/yaml#arbitrary-class-loading-system">arbitrary class loading system</a>.</p>
<p>In the following example, two Eco-Laws are configured, and one of them is bound to an
<a href="../../reference/kdoc/alchemist/it.unibo.alchemist.model.implementations.timedistributions/-exponential-time/"><code>ExponentialTime</code></a>
with rate 1, namely, when the reaction can be executed
(the left hand LSAs have local matches),
it will execute at an average of once per second
(with a variance of 1 s²).</p>
<div class="highlight"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff6ac1">incarnation</span>: sapere
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">network-model</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: ConnectWithinDistance
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [<span style="color:#ff9f43">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">deployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">type</span>: Grid
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">5</span>, -<span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">5</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.25</span>, <span style="color:#ff9f43">0.1</span>, <span style="color:#ff9f43">0.1</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">contents</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff6ac1">in</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">type</span>: Rectangle
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">parameters</span>: [-<span style="color:#ff9f43">0.5</span>, -<span style="color:#ff9f43">0.5</span>, <span style="color:#ff9f43">1</span>, <span style="color:#ff9f43">1</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">molecule</span>: token
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">programs</span>: <span style="color:#78787e"># A list of the sets of reactions programming the node</span>
</span></span><span style="display:flex;"><span>    - 
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">time-distribution</span>: <span style="color:#ff9f43">1</span> <span style="color:#78787e"># Frequency. If the class is not specified, the implementation to use is chosen by the incarnation. The SAPERE incarnation automatically loads ExponentialTime, which takes a number representing the Markovian rate.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># program lets the incarnation choose the class implementing Reaction, and passes down a string that, when parsed, produces the program</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">program</span>: &gt; <span style="color:#78787e"># &#34;&gt;&#34; begins a multiline string (quote mode)</span>
</span></span><span style="display:flex;"><span>          {token} --&gt; {firing}
</span></span><span style="display:flex;"><span>      <span style="color:#78787e"># If the time distribution is unspecified, the SAPERE incarnation assumes a &#34;ASAP&#34; behavior (rate = Infinity)</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ff6ac1">program</span>: <span style="color:#5af78e">&#34;{firing} --&gt; +{token}&#34;</span>
</span></span></code></pre></div>
<h2 id="exercise">Exercise</h2>
<p>To better grasp details of the incarnation, we recommend looking at the examples available on
<a href="https://github.com/AlchemistSimulator/SAPERE-incarnation-tutorial">the Alchemist SAPERE Incarnation tutorial on GitHub</a>.</p>
<p>Besides examples with growing complexity,
there are a number of proposed exercises that should help you get acquainted with the SAPERE way of writing self-organizing behaviors.</p>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="sidebar" class="default-animation showVisitedLinks">
      <div id="header-wrapper" class="default-animation">
        <div id="header" class="default-animation">
<div style="white-space: nowrap;">
    <div style="max-width: 100%; display: inline-block; ">
        <img alt="The Alchemist Logo" src="../../images/logo.svg"/>
    </div>
</div>

        </div>
        <div class="searchbox default-animation">
          <label for="search-by"><i class="fas fa-search"></i></label>
          <input data-search-input id="search-by" type="search" placeholder="Search...">
          <span data-search-clear=""><i class="fas fa-times"></i></span>
        </div>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="../../js/auto-complete.js?1655203452"></script>
        <script src="../../js/lunr.min.js?1655203452"></script>
        <script src="../../js/lunr.stemmer.support.min.js?1655203452"></script>
        <script src="../../js/lunr.multi.min.js?1655203452"></script>
        <script src="../../js/lunr.en.min.js?1655203452"></script>
        <script src="../../js/search.js?1655203452"></script>
      </div>
      <div id="homelinks" class="default-animation">
        <ul>
          <li>
              <a class="padding" href="../../"><i class='fas fa-home'></i> Home</a>
          </li>
        </ul>
      </div>
      <div id="content-wrapper" class="highlightable">
        <ul class="topics">
          <li data-nav-id="/tutorials/" title="Tutorials" class="dd-item parent"><input type="checkbox" id="section-90d1aeee0e96e115d1edea3b994d19fb" class="toggle" checked/><label for="section-90d1aeee0e96e115d1edea3b994d19fb" ></label><a href="../../tutorials/"><b>1. </b>Tutorials<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/tutorials/quickstart/" title="Quickstart" class="dd-item"><a href="../../tutorials/quickstart/">Quickstart<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tutorials/basics/" title="Step-by-step tutorial" class="dd-item"><a href="../../tutorials/basics/">Step-by-step tutorial<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tutorials/protelis/" title="Protelis Incarnation Tutorial" class="dd-item"><a href="../../tutorials/protelis/">Protelis Incarnation Tutorial<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tutorials/sapere/" title="SAPERE Incarnation Tutorial" class="dd-item active"><a href="../../tutorials/sapere/">SAPERE Incarnation Tutorial<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tutorials/scafi/" title="Scafi Incarnation Tutorial" class="dd-item"><a href="../../tutorials/scafi/">Scafi Incarnation Tutorial<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/" title="How-to Guides" class="dd-item"><input type="checkbox" id="section-816500d91966e741d856519feb929340" class="toggle"/><label for="section-816500d91966e741d856519feb929340" ></label><a href="../../howtos/"><b>2. </b>How-to Guides<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/howtos/preparation/" title="Preparation" class="dd-item alwaysopen"><input type="checkbox" id="section-b37a03515095c013889ed6b357fe9793" class="toggle" checked/><label for="section-b37a03515095c013889ed6b357fe9793" ></label><a href="../../howtos/preparation/">Preparation<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/howtos/preparation/jar/" title="Alchemist stand-alone" class="dd-item"><a href="../../howtos/preparation/jar/">Alchemist stand-alone<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/preparation/gradle/" title="Alchemist via Gradle" class="dd-item"><a href="../../howtos/preparation/gradle/">Alchemist via Gradle<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/simulation/" title="Simulation" class="dd-item alwaysopen"><input type="checkbox" id="section-f68016a8ccfd1f6483e3009c53111064" class="toggle" checked/><label for="section-f68016a8ccfd1f6483e3009c53111064" ></label><a href="../../howtos/simulation/">Simulation<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/howtos/simulation/variables/" title="Create reusable variables" class="dd-item"><a href="../../howtos/simulation/variables/">Create reusable variables<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/repeatability/" title="Ensure repeatability" class="dd-item"><a href="../../howtos/simulation/repeatability/">Ensure repeatability<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/cognitive/" title="Cognitive Agents" class="dd-item"><a href="../../howtos/simulation/cognitive/">Cognitive Agents<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/link/" title="Create a network" class="dd-item"><a href="../../howtos/simulation/link/">Create a network<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/layers/" title="Create Layers" class="dd-item"><a href="../../howtos/simulation/layers/">Create Layers<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/environment/" title="Create rich environments" class="dd-item alwaysopen"><input type="checkbox" id="section-506c1af08dd4ae8f1ff471556102ad10" class="toggle" checked/><label for="section-506c1af08dd4ae8f1ff471556102ad10" ></label><a href="../../howtos/simulation/environment/">Create rich environments<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/howtos/simulation/environment/pathfinding/" title="Find paths indoors" class="dd-item"><a href="../../howtos/simulation/environment/pathfinding/">Find paths indoors<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/environment/maps/" title="Maps and GPS traces" class="dd-item"><a href="../../howtos/simulation/environment/maps/">Maps and GPS traces<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/environment/indoor/" title="Simulate indoor" class="dd-item"><a href="../../howtos/simulation/environment/indoor/">Simulate indoor<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/simulation/deploy/" title="Deploy Nodes" class="dd-item alwaysopen"><input type="checkbox" id="section-7c8f900c4cd87baea80cccbacb6e4c7b" class="toggle" checked/><label for="section-7c8f900c4cd87baea80cccbacb6e4c7b" ></label><a href="../../howtos/simulation/deploy/">Deploy Nodes<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/howtos/simulation/deploy/grid/" title="(Irregular) Grids" class="dd-item"><a href="../../howtos/simulation/deploy/grid/">(Irregular) Grids<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/deploy/shape/" title="Nodes inside shapes" class="dd-item"><a href="../../howtos/simulation/deploy/shape/">Nodes inside shapes<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/deploy/gps/" title="GPS Traces" class="dd-item"><a href="../../howtos/simulation/deploy/gps/">GPS Traces<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/deploy/graph/" title="Graphs" class="dd-item"><a href="../../howtos/simulation/deploy/graph/">Graphs<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/simulation/export/" title="Export data" class="dd-item"><a href="../../howtos/simulation/export/">Export data<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/program/" title="Program Nodes" class="dd-item alwaysopen"><input type="checkbox" id="section-e3275c87da3baffee14e8040e8af2089" class="toggle" checked/><label for="section-e3275c87da3baffee14e8040e8af2089" ></label><a href="../../howtos/simulation/program/">Program Nodes<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/howtos/simulation/program/move-on-maps/" title="Move nodes on maps" class="dd-item"><a href="../../howtos/simulation/program/move-on-maps/">Move nodes on maps<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/simulation/program/content/" title="Node contents" class="dd-item"><a href="../../howtos/simulation/program/content/">Node contents<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/simulation/smartcam/" title="Smart cameras and drones" class="dd-item"><a href="../../howtos/simulation/smartcam/">Smart cameras and drones<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/execution/" title="Execution" class="dd-item alwaysopen"><input type="checkbox" id="section-18ce8c751a9ebb99c5c3c34e42988d90" class="toggle" checked/><label for="section-18ce8c751a9ebb99c5c3c34e42988d90" ></label><a href="../../howtos/execution/">Execution<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/howtos/execution/swing-effects/" title="Customize the Swing GUI" class="dd-item"><a href="../../howtos/execution/swing-effects/">Customize the Swing GUI<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/execution/termination/" title="Define the termination criteria" class="dd-item"><a href="../../howtos/execution/termination/">Define the termination criteria<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/workarounds/" title="Workarounds" class="dd-item alwaysopen"><input type="checkbox" id="section-5c62e7df883f31acbb0ab6f2f8f4e025" class="toggle" checked/><label for="section-5c62e7df883f31acbb0ab6f2f8f4e025" ></label><a href="../../howtos/workarounds/">Workarounds<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/howtos/workarounds/swing-glitch/" title="Graphical Glitches in Swing" class="dd-item"><a href="../../howtos/workarounds/swing-glitch/">Graphical Glitches in Swing<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/workarounds/max-map-count/" title="Memory leaks under Linux" class="dd-item"><a href="../../howtos/workarounds/max-map-count/">Memory leaks under Linux<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/howtos/extensions/" title="Experiment-specific extensions" class="dd-item"><a href="../../howtos/extensions/">Experiment-specific extensions<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/development/" title="Development" class="dd-item alwaysopen"><input type="checkbox" id="section-a8ef07edcf2e204447b00f8df33f5a47" class="toggle" checked/><label for="section-a8ef07edcf2e204447b00f8df33f5a47" ></label><a href="../../howtos/development/">Development<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/howtos/development/contributions/" title="Developer&#39;s guide" class="dd-item"><a href="../../howtos/development/contributions/">Developer&#39;s guide<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/development/ide-import/" title="Import Alchemist in an IDE" class="dd-item"><a href="../../howtos/development/ide-import/">Import Alchemist in an IDE<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/howtos/development/building/" title="Build and run the QA" class="dd-item"><a href="../../howtos/development/building/">Build and run the QA<i class="fas fa-check read-icon"></i></a></li></ul></li></ul></li>
          <li data-nav-id="/explanation/" title="Explanation" class="dd-item"><input type="checkbox" id="section-a9b09a5d1fcfe3d54aa8ef01d21a10b9" class="toggle"/><label for="section-a9b09a5d1fcfe3d54aa8ef01d21a10b9" ></label><a href="../../explanation/"><b>3. </b>Explanation<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/explanation/metamodel/" title="The Alchemist Meta-Model" class="dd-item"><a href="../../explanation/metamodel/">The Alchemist Meta-Model<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/explanation/engine/" title="The Alchemist Simulation Engine" class="dd-item"><a href="../../explanation/engine/">The Alchemist Simulation Engine<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/explanation/biochemistry/" title="Biochemistry Incarnation" class="dd-item"><a href="../../explanation/biochemistry/">Biochemistry Incarnation<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/explanation/cognitive/" title="Cognitive Agents" class="dd-item"><a href="../../explanation/cognitive/">Cognitive Agents<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/explanation/pathfinding/" title="Pathfinding" class="dd-item"><a href="../../explanation/pathfinding/">Pathfinding<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/explanation/sapere/" title="SAPERE Incarnation" class="dd-item"><a href="../../explanation/sapere/">SAPERE Incarnation<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/reference/" title="Reference" class="dd-item"><input type="checkbox" id="section-aaf4dc0c3ad418fa5118c9d2a0c2270f" class="toggle"/><label for="section-aaf4dc0c3ad418fa5118c9d2a0c2270f" ></label><a href="../../reference/"><b>4. </b>Reference<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/reference/yaml/" title="YAML simulation specification" class="dd-item"><a href="../../reference/yaml/">YAML simulation specification<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/organization/" title="Project organization" class="dd-item"><a href="../../reference/organization/">Project organization<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/biochemistry/" title="Biochemistry Incarnation" class="dd-item"><a href="../../reference/biochemistry/">Biochemistry Incarnation<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/cli/" title="Command Line interface" class="dd-item"><a href="../../reference/cli/">Command Line interface<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/default-ui/" title="Default Graphical User Interface" class="dd-item"><a href="../../reference/default-ui/">Default Graphical User Interface<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/sapere/" title="SAPERE Incarnation" class="dd-item"><a href="../../reference/sapere/">SAPERE Incarnation<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/swing/" title="Swing GUI" class="dd-item"><a href="../../reference/swing/">Swing GUI<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/kdoc/" title="KDoc API" class="dd-item"><a href="../../reference/kdoc/"><i>(recommended)</i> KDoc API<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/reference/javadoc/" title="Javadoc API" class="dd-item"><a href="../../reference/javadoc/"><i>(legacy)</i> Javadoc API<i class="fas fa-check read-icon"></i></a></li></ul></li>
        </ul>
        <div id="shortcuts">
          <div class="nav-title">More</div>
          <ul>
            <li><a class="padding" href="https://github.com/AlchemistSimulator/Alchemist"><i class='fab fa-fw fa-github'></i> GitHub repo</a></li>
            <li><a class="padding" href="https://www.youtube.com/channel/UC0o4FQEhRC6fWLLxxfPByKw"><i class='fab fa-youtube'></i> YouTube channel</a></li>
            <li><a class="padding" href="../../showcase/"><i class='fas fa-fw fa-camera'></i> Use cases</a></li>
            <li><a class="padding" href="../../license/"><i class='fas fa-balance-scale'></i> License</a></li>
            <li><a class="padding" href="../../tags/"><i class='fas fa-fw fa-tags'></i> Tags</a></li>
          </ul>
        </div>
        <div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div>
        <hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"/>
        <div id="prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks">
          <ul>
            <li id="select-language-container" class="footerLangSwitch">
              <a class="padding select-container">
                <i class="fas fa-language fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <select id="select-language" onchange="location = baseUri + this.value;">
                  </select>
                </div>
                <div class="select-clear"></div>
              </a>
            </li>
            <li id="select-variant-container" class="footerVariantSwitch">
              <a class="padding select-container">
                <i class="fas fa-paint-brush fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <select id="select-variant" onchange="variants.changeVariant( this.value );">
                    <option id="relearn" value="relearn" selected>Relearn</option>
                  </select>
                </div>
                <div class="select-clear"></div>
              </a>
              <script>variants.markSelectedVariant();</script>
            </li>
            <li class="footerVisitedLinks showVisitedLinks"><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
          </ul>
        </div>
        <div id="footer" class="footerFooter showFooter"><div><strong>Alchemist Simulator 21.0.2</strong></div>
<br>
<a
    class="github-button"
    href="https://github.com/AlchemistSimulator/Alchemist/releases/latest/"
    data-icon="octicon-cloud-download" aria-label="Download Alchemist-full on GitHub"
>
Download
</a>
<a
    class="github-button"
    href="https://github.com/AlchemistSimulator/Alchemist"
    data-icon="octicon-star"
    data-show-count="true"
    aria-label="Star McShelby/hugo-theme-relearn on GitHub"
>
Star
</a>
<a
    class="github-button"
    href="https://github.com/AlchemistSimulator/Alchemist/fork"
    data-icon="octicon-repo-forked"
    data-show-count="true"
    aria-label="Fork McShelby/hugo-theme-relearn on GitHub"
>
Fork
</a>
<p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn"><span class="fas fa-heart"></span></a> by <a href="https://gohugo.io/">Hugo</a></p>
<script async defer src="https://buttons.github.io/buttons.js"></script>

        </div>
      </div>
    </aside>
    <script src="../../js/clipboard.min.js?1655203452"></script>
    <script src="../../js/perfect-scrollbar.min.js?1655203452"></script>
    <script src="../../js/featherlight.min.js?1655203452"></script>
    <script src="../../js/jquery.svg.pan.zoom.js?1655203452"></script>
    <script src="../../js/mermaid.min.js?1655203452"></script>
    <script>
      function useMermaid( config ){
        if (typeof mermaid != 'undefined' && typeof mermaid.mermaidAPI != 'undefined') {
          mermaid.initialize( Object.assign( { "securityLevel": "antiscript", "startOnLoad": false  }, config ) );
          if( config.theme ){
            var write_style = variants.findLoadedStylesheet( 'variant-style' );
            write_style.setProperty( '--CONFIG-MERMAID-theme', config.theme );
          }
        }
      }
      useMermaid( JSON.parse("{}") );
    </script>
    <script src="../../js/theme.js?1655203452"></script>
  </body>
</html>
